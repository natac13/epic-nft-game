(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2873:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ne}});var a=n(266),r=n(6311),i=n(809),s=n.n(i),o=n(9226),l=n(2658),c=n(9062),u=n(624),p=n(7957),d=n(7294),y=n(387),m=n(5755),h=n(4065),f=n(3720),x=n(4386),g=n(2809),v=n(219),j=n(6010),T=n(1163),b=n(1664),Z=n(6634),w=n(9602),k=n(5893),N=["to","linkAs","href","replace","scroll","shallow","prefetch","locale"],C=["activeClassName","as","className","href","noLinkStyle","role"];function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=(0,w.ZP)("a")({}),F=d.forwardRef((function(e,t){var n=e.to,a=e.linkAs,r=(e.href,e.replace),i=e.scroll,s=e.shallow,o=e.prefetch,l=e.locale,c=(0,v.Z)(e,N);return(0,k.jsx)(b.default,{href:n,prefetch:o,as:a,replace:r,scroll:i,shallow:s,passHref:!0,locale:l,children:(0,k.jsx)(M,O({ref:t},c))})})),A=d.forwardRef((function(e,t){var n=e.activeClassName,a=void 0===n?"active":n,r=e.as,i=e.className,s=e.href,o=e.noLinkStyle,l=(e.role,(0,v.Z)(e,C)),c=(0,T.useRouter)(),u="string"===typeof s?s:s.pathname,p=(0,j.Z)(i,(0,g.Z)({},a,c.pathname===u&&a));return"string"===typeof s&&(0===s.indexOf("http")||0===s.indexOf("mailto:"))?o?(0,k.jsx)(M,O({className:p,href:s,ref:t},l)):(0,k.jsx)(Z.Z,O({className:p,href:s,ref:t},l)):o?(0,k.jsx)(F,O({className:p,ref:t,to:s},l)):(0,k.jsx)(Z.Z,O({component:F,linkAs:r,className:p,ref:t,to:s},l))})),H=function(e){var t=e.account;return(0,k.jsx)(f.Z,{position:"static",children:(0,k.jsxs)(x.Z,{sx:{justifyContent:"space-between"},children:[(0,k.jsx)(l.Z,{variant:"h5",component:"div",align:"center",sx:{flex:"1 0",display:"flex",justifyContent:"flex-start"},children:"Epic NFTs"}),(0,k.jsx)(o.Z,{sx:{flex:"1 0",display:"flex",justifyContent:"center"},children:(0,k.jsx)(A,{href:"/",underline:"none",children:"Home"})}),(0,k.jsx)(o.Z,{flex:"1 0",display:"flex",justifyContent:"flex-end",children:null!==t&&void 0!==t?t:"0x0..."})]})})},D=function(e){var t=e.account,n=e.children;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(H,{account:t}),(0,k.jsx)(h.Z,{maxWidth:"lg",children:n})]})},P=n(5295),E=n(4962),S=n(8515),_=n(2643),R=n(9573),U=n(6011),B=n(3694),L=n(6926),G=n(8732),W=n(9161),q=JSON.parse('{"Mt":[{"inputs":[{"internalType":"string[]","name":"characterNames","type":"string[]"},{"internalType":"string[]","name":"characterImageURIs","type":"string[]"},{"internalType":"uint256[]","name":"characterHp","type":"uint256[]"},{"internalType":"uint256[]","name":"characterAttackDmg","type":"uint256[]"},{"internalType":"uint256[]","name":"characterStrengths","type":"uint256[]"},{"internalType":"uint256[]","name":"characterDexterities","type":"uint256[]"},{"internalType":"string","name":"bigBossName","type":"string"},{"internalType":"string","name":"bigBossImageURI","type":"string"},{"internalType":"uint256","name":"bossHp","type":"uint256"},{"internalType":"uint256","name":"bossAttackDamage","type":"uint256"},{"internalType":"uint256","name":"bossLevel","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newBossHp","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newPlayerHp","type":"uint256"}],"name":"AttackComplete","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"characterIndex","type":"uint256"}],"name":"CharacterNFTMinted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"attackBoss","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"bigBoss","outputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"imageURI","type":"string"},{"internalType":"uint256","name":"hp","type":"uint256"},{"internalType":"uint256","name":"maxHp","type":"uint256"},{"internalType":"uint256","name":"attackDamage","type":"uint256"},{"internalType":"uint256","name":"level","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"checkIfUserHasNFT","outputs":[{"components":[{"internalType":"uint256","name":"characterIndex","type":"uint256"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"imageURI","type":"string"},{"internalType":"uint256","name":"hp","type":"uint256"},{"internalType":"uint256","name":"maxHp","type":"uint256"},{"internalType":"uint256","name":"attackDamage","type":"uint256"},{"internalType":"uint256","name":"level","type":"uint256"},{"internalType":"uint256","name":"strength","type":"uint256"},{"internalType":"uint256","name":"dexterity","type":"uint256"}],"internalType":"struct MyEpicGame.CharacterAttributes","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getAllDefaultCharacters","outputs":[{"components":[{"internalType":"uint256","name":"characterIndex","type":"uint256"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"imageURI","type":"string"},{"internalType":"uint256","name":"hp","type":"uint256"},{"internalType":"uint256","name":"maxHp","type":"uint256"},{"internalType":"uint256","name":"attackDamage","type":"uint256"},{"internalType":"uint256","name":"level","type":"uint256"},{"internalType":"uint256","name":"strength","type":"uint256"},{"internalType":"uint256","name":"dexterity","type":"uint256"}],"internalType":"struct MyEpicGame.CharacterAttributes[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBigBoss","outputs":[{"components":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"imageURI","type":"string"},{"internalType":"uint256","name":"hp","type":"uint256"},{"internalType":"uint256","name":"maxHp","type":"uint256"},{"internalType":"uint256","name":"attackDamage","type":"uint256"},{"internalType":"uint256","name":"level","type":"uint256"}],"internalType":"struct MyEpicGame.BigBoss","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_characterIndex","type":"uint256"}],"name":"mintCharacterNFT","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"nftHolderAttributes","outputs":[{"internalType":"uint256","name":"characterIndex","type":"uint256"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"imageURI","type":"string"},{"internalType":"uint256","name":"hp","type":"uint256"},{"internalType":"uint256","name":"maxHp","type":"uint256"},{"internalType":"uint256","name":"attackDamage","type":"uint256"},{"internalType":"uint256","name":"level","type":"uint256"},{"internalType":"uint256","name":"strength","type":"uint256"},{"internalType":"uint256","name":"dexterity","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"nftHolders","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),Q=function(e){var t,n,a,r,i,s;return{name:null===e||void 0===e?void 0:e.name,imageURI:null===e||void 0===e?void 0:e.imageURI,hp:null===e||void 0===e||null===(t=e.hp)||void 0===t?void 0:t.toNumber(),maxHp:null===e||void 0===e||null===(n=e.maxHp)||void 0===n?void 0:n.toNumber(),attackDamage:null===e||void 0===e||null===(a=e.attackDamage)||void 0===a?void 0:a.toNumber(),strength:null===e||void 0===e||null===(r=e.strength)||void 0===r?void 0:r.toNumber(),dexterity:null===e||void 0===e||null===(i=e.dexterity)||void 0===i?void 0:i.toNumber(),level:null===e||void 0===e||null===(s=e.level)||void 0===s?void 0:s.toNumber()}},z="0x68aD853d4836caDE582B4382bA776dF76838ffd1",V=q.Mt,X=function(e){var t=e.setCharacterNFT,n=e.setLoading,i=d.useState([]),c=(0,r.Z)(i,2),u=c[0],h=c[1],f=d.useState(null),x=(0,r.Z)(f,2),g=x[0],v=x[1],j=function(){var e=(0,a.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===g||void 0===g?void 0:g.getAllDefaultCharacters();case 3:t=e.sent,n=null===t||void 0===t?void 0:t.map((function(e){return Q(e)})),h(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log({err:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,a.Z)(s().mark((function e(n,a,r){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("CharacterNFTMinted - sender: ".concat(n," tokenId: ").concat(a.toNumber()," characterIndex: ").concat(r.toNumber())),!g){e.next=7;break}return e.next=4,g.checkIfUserHasNFT();case 4:i=e.sent,console.log("CharacterNFT: ",i),t(Q(i));case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return d.useEffect((function(){try{var e=window.ethereum;if(e){var t=new m.Q(e).getSigner(),n=new y.CH(z,V,t);v(n)}else console.log("Get Metamask")}catch(a){console.log({err:a})}}),[]),d.useEffect((function(){return g&&(j(),g.on("CharacterNFTMinted",T)),function(){g&&g.off("CharacterNFTMinted",T)}}),[g]),(0,k.jsxs)(o.Z,{children:[(0,k.jsx)(l.Z,{variant:"h4",align:"center",color:"secondary",children:"Mint Your Hero. Choose wisely."}),(0,k.jsx)(o.Z,{display:"flex",justifyContent:"space-evenly",mt:4,gap:2,children:null===u||void 0===u?void 0:u.map((function(e,t){return(0,k.jsxs)(P.Z,{sx:{width:"400px"},children:[(0,k.jsx)(E.Z,{component:"img",src:e.imageURI,height:"400px",sx:{objectFit:"contain"}}),(0,k.jsx)(S.Z,{title:e.name}),(0,k.jsx)(_.Z,{children:(0,k.jsxs)(R.Z,{children:[(0,k.jsx)(U.Z,{children:(0,k.jsxs)(B.Z,{children:[(0,k.jsx)(L.Z,{children:"Attribute"}),(0,k.jsx)(L.Z,{align:"right",children:"Value"})]})}),(0,k.jsxs)(G.Z,{children:[(0,k.jsxs)(B.Z,{children:[(0,k.jsx)(L.Z,{children:"Level"}),(0,k.jsx)(L.Z,{align:"right",children:e.level})]}),(0,k.jsxs)(B.Z,{children:[(0,k.jsx)(L.Z,{children:"Strength"}),(0,k.jsx)(L.Z,{align:"right",children:e.strength})]}),(0,k.jsxs)(B.Z,{children:[(0,k.jsx)(L.Z,{children:"Dexterity"}),(0,k.jsx)(L.Z,{align:"right",children:e.dexterity})]}),(0,k.jsxs)(B.Z,{children:[(0,k.jsx)(L.Z,{children:"Attack Dmg"}),(0,k.jsx)(L.Z,{align:"right",children:e.attackDamage})]})]})]})}),(0,k.jsx)(W.Z,{children:(0,k.jsx)(p.Z,{variant:"contained",color:"primary",fullWidth:!0,onClick:(r=t,(0,a.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!g){e.next=10;break}return null===n||void 0===n||n(!0),console.log("Minting character in progress..."),e.next=6,g.mintCharacterNFT(r);case 6:return t=e.sent,e.next=9,t.wait();case 9:console.log("mintTxn:",t);case 10:null===n||void 0===n||n(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.warn("MintCharacterAction Error:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))),children:"Mint"})})]});var r}))})]})},Y=n(558),J=n(3968),K=n(8377);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(e){var t=e.characterNFT,n=e.setLoading,i=e.setCharacterNFT,o=d.useState(null),c=(0,r.Z)(o,2),u=c[0],h=c[1],f=d.useState(null),x=(0,r.Z)(f,2),g=x[0],v=x[1],j=d.useState(""),T=(0,r.Z)(j,2),b=(T[0],T[1]),Z=function(){var e=(0,a.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!u){e.next=13;break}return b("attacking"),console.log("Attacking boss..."),e.next=6,u.attackBoss();case 6:return t=e.sent,n(!0),e.next=10,t.wait();case 10:n(!1),console.log("attackTxn:",t),b("hit");case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error attacking boss:",e.t0),b("");case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),w=function(e,t){var n=e.toNumber(),a=t.toNumber();console.log("AttackComplete: Boss Hp: ".concat(n," Player Hp: ").concat(a)),v((function(e){return ee(ee({},e),{},{hp:n})})),i((function(e){return ee(ee({},e),{},{hp:a})}))},N=function(){var e=(0,a.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getBigBoss();case 2:n=e.sent,v(Q(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return d.useEffect((function(){var e=window.ethereum;if(e){var t=new m.Q(e).getSigner(),n=new y.CH(z,V,t);h(n)}else console.log("Get metamask")}),[]),d.useEffect((function(){return u&&(N(u),null===u||void 0===u||u.on("AttackComplete",w)),function(){null===u||void 0===u||u.off("AttackComplete",w)}}),[u]),(0,k.jsxs)(K.Z,{children:[(0,k.jsx)(l.Z,{variant:"h4",children:"Boss Arena"}),(0,k.jsxs)(Y.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,k.jsx)(Y.ZP,{item:!0,xs:12,md:6,children:g&&(0,k.jsx)(K.Z,{width:"100%",display:"flex",justifyContent:"center",children:(0,k.jsxs)(P.Z,{sx:{maxWidth:600},children:[(0,k.jsx)(E.Z,{component:"img",src:g.imageURI,sx:{maxHeight:400,objectFit:"contain"}}),(0,k.jsx)(S.Z,{title:g.name}),(0,k.jsxs)(_.Z,{children:[(0,k.jsx)(l.Z,{variant:"subtitle2",children:"Health"}),(0,k.jsx)(J.Z,{variant:"determinate",value:g.hp/g.maxHp*100,sx:{height:12}}),(0,k.jsx)(l.Z,{variant:"caption",align:"center",sx:{width:"100%",display:"inline-block"},children:"".concat(g.hp," / ").concat(g.maxHp)})]}),(0,k.jsx)(W.Z,{children:(0,k.jsx)(p.Z,{color:"primary",variant:"contained",fullWidth:!0,onClick:Z,children:"Attack Boss"})})]})})}),(0,k.jsx)(Y.ZP,{item:!0,xs:12,md:6,children:!!t&&(0,k.jsxs)(P.Z,{sx:{width:"400px"},children:[(0,k.jsx)(E.Z,{component:"img",src:t.imageURI,height:"400px",sx:{objectFit:"contain"}}),(0,k.jsx)(S.Z,{title:t.name}),(0,k.jsxs)(_.Z,{children:[(0,k.jsxs)(R.Z,{children:[(0,k.jsx)(U.Z,{children:(0,k.jsxs)(B.Z,{children:[(0,k.jsx)(L.Z,{children:"Attribute"}),(0,k.jsx)(L.Z,{align:"right",children:"Value"})]})}),(0,k.jsxs)(G.Z,{children:[(0,k.jsxs)(B.Z,{children:[(0,k.jsx)(L.Z,{children:"Level"}),(0,k.jsx)(L.Z,{align:"right",children:t.level})]}),(0,k.jsxs)(B.Z,{children:[(0,k.jsx)(L.Z,{children:"Strength"}),(0,k.jsx)(L.Z,{align:"right",children:t.strength})]}),(0,k.jsxs)(B.Z,{children:[(0,k.jsx)(L.Z,{children:"Dexterity"}),(0,k.jsx)(L.Z,{align:"right",children:t.dexterity})]}),(0,k.jsxs)(B.Z,{children:[(0,k.jsx)(L.Z,{children:"Attack Dmg"}),(0,k.jsx)(L.Z,{align:"right",children:t.attackDamage})]})]})]}),(0,k.jsxs)(K.Z,{children:[(0,k.jsx)(l.Z,{variant:"subtitle2",children:"Health"}),(0,k.jsx)(J.Z,{variant:"determinate",value:t.hp/t.maxHp*100,color:"secondary",sx:{height:12}}),(0,k.jsx)(l.Z,{variant:"caption",align:"center",sx:{width:"100%",display:"inline-block"},children:"".concat(t.hp," / ").concat(t.maxHp)})]})]}),(0,k.jsx)(W.Z,{})]})})]})]})};function ne(){var e=d.useState(""),t=(0,r.Z)(e,2),n=t[0],i=t[1],h=d.useState(!1),f=(0,r.Z)(h,2),x=f[0],g=f[1],v=d.useState(null),j=(0,r.Z)(v,2),T=j[0],b=j[1],Z=function(){var e=(0,a.Z)(s().mark((function e(){var t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,!(n=t.ethereum)){e.next=8;break}return e.next=4,n.request({method:"eth_chainId"});case 4:a=e.sent,console.log("Connected to chain "+a),"0x4","0x4"!==a&&alert("You are not connected to the Rinkeby Test Network!");case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=(0,a.Z)(s().mark((function e(){var t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=window,(n=t.ethereum)?(a=new m.Q(n),a.getSigner(),console.log("Setup event listener!")):console.log("Ethereum object doesn't exist!")}catch(r){console.log(r)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=(0,a.Z)(s().mark((function e(){var t,n,a,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=window,n=t.ethereum){e.next=7;break}return console.log("Make sure you have metamask!"),e.abrupt("return");case 7:console.log("We have the ethereum object",n);case 8:return e.next=10,n.request({method:"eth_accounts"});case 10:0!==(a=e.sent).length?(r=a[0],console.log("Found an authorized account:",r),i(r),w()):console.log("No authorized account found"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,a.Z)(s().mark((function e(){var t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=window,n=t.ethereum){e.next=5;break}return alert("Get MetaMask!"),e.abrupt("return");case 5:return e.next=7,n.request({method:"eth_requestAccounts"});case 7:a=e.sent,console.log("Connected",a[0]),i(a[0]),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,a.Z)(s().mark((function e(){var t,n,a,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new m.Q(null===(t=window)||void 0===t?void 0:t.ethereum),a=n.getSigner(),r=new y.CH(z,V,a),e.next=5,r.checkIfUserHasNFT({gasLimit:8e5});case 5:i=e.sent,console.log({tx:i}),i.name&&(console.log("User has NFT"),b(Q(i)));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d.useEffect((function(){var e,t;g(!0),null===(e=Z())||void 0===e||null===(t=e.then(N))||void 0===t||t.then((function(){return g(!1)}))}),[]),d.useEffect((function(){n&&I()}),[n]),(0,k.jsxs)(D,{account:n,children:[(0,k.jsx)(o.Z,{component:"header",sx:{display:"flex",justifyContent:"center",alignItems:"center",flexFlow:"column",my:2},children:(0,k.jsx)(l.Z,{variant:"h1",align:"center",fontWeight:"700",children:"Epic Nft Game"})}),x&&(0,k.jsxs)(o.Z,{sx:{display:"flex",flexFlow:"column",width:"100%",alignItems:"center",justifyContent:"center"},children:[(0,k.jsx)(l.Z,{variant:"subtitle1",align:"center",children:"Pending Transaction"}),(0,k.jsx)(c.Z,{color:"secondary",size:50})]}),(0,k.jsxs)(o.Z,{sx:{my:3,display:"flex",width:"100%",justifyContent:"center",flexFlow:"column",gap:2},children:[n&&!T?(0,k.jsx)(X,{setCharacterNFT:b,setLoading:g}):(0,k.jsx)(te,{setCharacterNFT:b,setLoading:g,characterNFT:T}),(0,k.jsx)(u.Z,{in:!n,children:(0,k.jsx)(p.Z,{color:"primary",variant:"outlined",onClick:C,disabled:x,children:"Connect Wallet"})})]})]})}},5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2873)}])},6601:function(){}},function(e){e.O(0,[609,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);